---
layout: post
title: "C#避免输出伪随机数"
date: 2020-03-29 00:00
comments: true
toc: true
tags:
  - 2020-03
  - C#
  - 随机数生成
  - 教程
---

如下所示，C#的Random是用于生成随机数的类，但是程序在每次执行时输出的随机数都是一样的，也称之为“伪随机数”。

<!--more-->

```
static void Main(string[] args)
{
    Random random = new Random();
    for (int i = 0; i < 10; i++)
    {
        Console.Write(random.Next(0, 10) + "");
    }

    Console.WriteLine("\n");

    Random newRandom = new Random();
    for (int i = 0; i < 10; i++)
    {
        Console.Write(newRandom.Next(0, 10) + "");
    }

    Console.ReadKey();
}
```

执行结果如下：
![](/assets/blogImg/DP-200329-01.png)



Random还有一个构造函数可以传入种子值用于计算下一个随机数的值，不过这个值最好也是随机变化的，这个种子值我们可以使用GUID的哈希值作为参数来传入。这样生成的随机数也就是真随机数了。

```
static void Main(string[] args)
{
    Random random = new Random(Guid.NewGuid().GetHashCode()); //使用Guid的哈希值做种子
    for (int i = 0; i < 10; i++)
    {
        Console.Write(random.Next(0, 10) + "");
    }

    Console.WriteLine("\n");

    Random newRandom = new Random(Guid.NewGuid().GetHashCode()); //使用Guid的哈希值做种子
    for (int i = 0; i < 10; i++)
    {
        Console.Write(newRandom.Next(0, 10) + "");
    }

    Console.ReadKey();
}
```

执行结果如下：
![](/assets/blogImg/DP-200329-02.png)