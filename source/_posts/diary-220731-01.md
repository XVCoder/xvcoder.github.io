---
layout: post
title: "在Docker中运行Wiki.js"
date: 2022-07-31 20:00
comments: true
toc: true
tags:
  - 2022-07
  - Wiki.js
  - 教程
---

本教程介绍编写docker-compose.yaml以在Docker中运行Wiki.js

<!--more-->

换不多说，直接上docker-compose.yaml的内容

``` xml
version: "3"
services:

  wiki-db:
    image: postgres:11-alpine
    environment:
      TZ: Asia/Shanghai
      POSTGRES_DB: wiki
      POSTGRES_PASSWORD: wikijsrocks
      POSTGRES_USER: wikijs
#    logging:
#      driver: "none"  # 如不需要输出日志，可将此两行取消注释
    restart: unless-stopped
    volumes:
      - db-data:/var/lib/postgresql/data
#    ports:
#      - "5432:5432"  # 如需要在Navicat等客户端中连接该数据库，可将此两行取消注释

  wiki:
    image: ghcr.io/requarks/wiki:2
    depends_on:
      - wiki-db
    environment:
      TZ: Asia/Shanghai
      DB_TYPE: postgres
      DB_HOST: wiki-db
      DB_PORT: 5432
      DB_USER: wikijs
      DB_PASS: wikijsrocks
      DB_NAME: wiki
    restart: unless-stopped
    ports:
      - "8080:3000"  # 可将8080改为自己想要的端口，用于后续的访问

volumes:
  db-data:
```

【启动容器】
在docker-compose.yaml所在目录下执行以下命令：
``` bash
$ docker-compose up -d
```

【停止容器】
在docker-compose.yaml所在目录下执行以下命令：
``` bash
$ docker-compose stop
```

【停止并删除容器】
在docker-compose.yaml所在目录下执行以下命令：
``` bash
$ docker-compose down
```
