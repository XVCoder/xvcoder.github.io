---
layout: post
title: "OpenID Connect 协议"
date: 2022-08-04 00:00
comments: true
toc: true
tags:
  - 2022-08
  - OpenID Connect
  - IdentityServer4
---

#### 【OpenID Connect 协议】  
是一种身份认证协议（Authentication），基于OAuth2.0构建  
官方定义：OpenID Connect 是建立在 OAuthorization2.0 协议上的一个简单的身份标识层，OpenID Connect 兼容 OAuth2.0  

注意：（以下二者单词不是同一个）  
身份认证 Authentication  
授权 Authorization  

<!--more-->

------------------------------------------------------------------------------------------

#### 【ID Token】
包括用户身份认证信息

------------------------------------------------------------

#### 【UserInfo端点】
通过该端点可获取用户信息

------------------------------------------------------------------------------------------

#### 【提供一组标识身份的 scopes 和 claims】
1、profile  
2、email  
3、address  
4、phone  

------------------------------------------------------------------------------------------

#### 【抽象流程图】

``` text
 +----------+                                            +----------+
 |          |                                            |          |
 |          |--(A)------- Authorization Grant ---------> |          |
 |          |                                            |          |
 |          |    +------------+                          |          |
 |          |    |            |                          |          |
 |          |    |            |                          |          |
 |          |    |  End-User  |<---(2) AuthN & AuthZ --->|          |
 |          |    |            |                          |          |
 |    RP    |    |            |                          |    OP    |
 |(Relying) |    |            |                          |          |
 |          |    +------------+                          |          |
 |          |                                            |          |
 |          |                                            |          |
 |          |<------------(3) AuthN Response ------------|          |
 |          |                                            |          |
 |          |-------------(4) UserInfo Request --------->|          |
 |          |                                            |          |
 |          |<------------(5) UserInfo Response----------|          |
 |          |                                            |          |
 +----------+                                            +----------+
    依赖方                                               OpenID Provider

```

------------------------------------------------------------------------------------------

#### 【三个流程】
1、Authorization Code Flow  
2、Implicit Flow  
3、Hybrid Flow  














